import*as t from"../../core/common/common.js";import*as e from"../../core/sdk/sdk.js";import*as o from"../../models/workspace/workspace.js";import*as i from"../../ui/legacy/components/utils/utils.js";import*as n from"../../ui/legacy/legacy.js";import*as a from"../../core/i18n/i18n.js";const r={focusDebuggee:"Focus page",toggleDrawer:"Toggle drawer",nextPanel:"Next panel",previousPanel:"Previous panel",reloadDevtools:"Reload DevTools",restoreLastDockPosition:"Restore last dock position",zoomIn:"Zoom in",zoomOut:"Zoom out",resetZoomLevel:"Reset zoom level",searchInPanel:"Search in panel",cancelSearch:"Cancel search",findNextResult:"Find next result",findPreviousResult:"Find previous result",theme:"Theme:",switchToSystemPreferredColor:"Switch to system preferred color theme",systemPreference:"System preference",switchToLightTheme:"Switch to light theme",lightCapital:"Light",switchToDarkTheme:"Switch to dark theme",darkCapital:"Dark",darkLower:"dark",lightLower:"light",panelLayout:"Panel layout:",useHorizontalPanelLayout:"Use horizontal panel layout",horizontal:"horizontal",useVerticalPanelLayout:"Use vertical panel layout",vertical:"vertical",useAutomaticPanelLayout:"Use automatic panel layout",auto:"auto",enableCtrlShortcutToSwitchPanels:"Enable Ctrl + 1-9 shortcut to switch panels",enableShortcutToSwitchPanels:"Enable âŒ˜ + 1-9 shortcut to switch panels",right:"Right",dockToRight:"Dock to right",bottom:"Bottom",dockToBottom:"Dock to bottom",left:"Left",dockToLeft:"Dock to left",undocked:"Undocked",undockIntoSeparateWindow:"Undock into separate window",devtoolsDefault:"DevTools (Default)",language:"Language:",browserLanguage:"Browser UI language",enableSync:"Enable settings sync",searchAsYouTypeSetting:"Search as you type",searchAsYouTypeCommand:"Enable search as you type",searchOnEnterCommand:"Disable search as you type (press Enter to search)"},s=a.i18n.registerUIStrings("entrypoints/main/main-meta.ts",r),l=a.i18n.getLazilyComputedLocalizedString.bind(void 0,s);let c,g;async function d(){return c||(c=await import("./main.js")),c}function u(t){return()=>a.i18n.getLocalizedLanguageRegion(t,a.DevToolsLocale.DevToolsLocale.instance())}n.ActionRegistration.registerActionExtension({category:n.ActionRegistration.ActionCategory.DRAWER,actionId:"inspector_main.focus-debuggee",loadActionDelegate:async()=>new((await async function(){return g||(g=await import("../inspector_main/inspector_main.js")),g}()).InspectorMain.FocusDebuggeeActionDelegate),order:100,title:l(r.focusDebuggee)}),n.ActionRegistration.registerActionExtension({category:n.ActionRegistration.ActionCategory.DRAWER,actionId:"main.toggle-drawer",loadActionDelegate:async()=>new n.InspectorView.ActionDelegate,order:101,title:l(r.toggleDrawer),bindings:[{shortcut:"Esc"}]}),n.ActionRegistration.registerActionExtension({actionId:"main.next-tab",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.nextPanel),loadActionDelegate:async()=>new n.InspectorView.ActionDelegate,bindings:[{platform:"windows,linux",shortcut:"Ctrl+]"},{platform:"mac",shortcut:"Meta+]"}]}),n.ActionRegistration.registerActionExtension({actionId:"main.previous-tab",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.previousPanel),loadActionDelegate:async()=>new n.InspectorView.ActionDelegate,bindings:[{platform:"windows,linux",shortcut:"Ctrl+["},{platform:"mac",shortcut:"Meta+["}]}),n.ActionRegistration.registerActionExtension({actionId:"main.debug-reload",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.reloadDevtools),loadActionDelegate:async()=>new((await d()).MainImpl.ReloadActionDelegate),bindings:[{shortcut:"Alt+R"}]}),n.ActionRegistration.registerActionExtension({category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.restoreLastDockPosition),actionId:"main.toggle-dock",loadActionDelegate:async()=>new n.DockController.ToggleDockActionDelegate,bindings:[{platform:"windows,linux",shortcut:"Ctrl+Shift+D"},{platform:"mac",shortcut:"Meta+Shift+D"}]}),n.ActionRegistration.registerActionExtension({actionId:"main.zoom-in",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.zoomIn),loadActionDelegate:async()=>new((await d()).MainImpl.ZoomActionDelegate),bindings:[{platform:"windows,linux",shortcut:"Ctrl+Plus",keybindSets:["devToolsDefault","vsCode"]},{platform:"windows,linux",shortcut:"Ctrl+Shift+Plus"},{platform:"windows,linux",shortcut:"Ctrl+NumpadPlus"},{platform:"windows,linux",shortcut:"Ctrl+Shift+NumpadPlus"},{platform:"mac",shortcut:"Meta+Plus",keybindSets:["devToolsDefault","vsCode"]},{platform:"mac",shortcut:"Meta+Shift+Plus"},{platform:"mac",shortcut:"Meta+NumpadPlus"},{platform:"mac",shortcut:"Meta+Shift+NumpadPlus"}]}),n.ActionRegistration.registerActionExtension({actionId:"main.zoom-out",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.zoomOut),loadActionDelegate:async()=>new((await d()).MainImpl.ZoomActionDelegate),bindings:[{platform:"windows,linux",shortcut:"Ctrl+Minus",keybindSets:["devToolsDefault","vsCode"]},{platform:"windows,linux",shortcut:"Ctrl+Shift+Minus"},{platform:"windows,linux",shortcut:"Ctrl+NumpadMinus"},{platform:"windows,linux",shortcut:"Ctrl+Shift+NumpadMinus"},{platform:"mac",shortcut:"Meta+Minus",keybindSets:["devToolsDefault","vsCode"]},{platform:"mac",shortcut:"Meta+Shift+Minus"},{platform:"mac",shortcut:"Meta+NumpadMinus"},{platform:"mac",shortcut:"Meta+Shift+NumpadMinus"}]}),n.ActionRegistration.registerActionExtension({actionId:"main.zoom-reset",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.resetZoomLevel),loadActionDelegate:async()=>new((await d()).MainImpl.ZoomActionDelegate),bindings:[{platform:"windows,linux",shortcut:"Ctrl+0"},{platform:"windows,linux",shortcut:"Ctrl+Numpad0"},{platform:"mac",shortcut:"Meta+Numpad0"},{platform:"mac",shortcut:"Meta+0"}]}),n.ActionRegistration.registerActionExtension({actionId:"main.search-in-panel.find",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.searchInPanel),loadActionDelegate:async()=>new((await d()).MainImpl.SearchActionDelegate),bindings:[{platform:"windows,linux",shortcut:"Ctrl+F",keybindSets:["devToolsDefault","vsCode"]},{platform:"mac",shortcut:"Meta+F",keybindSets:["devToolsDefault","vsCode"]},{platform:"mac",shortcut:"F3"}]}),n.ActionRegistration.registerActionExtension({actionId:"main.search-in-panel.cancel",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.cancelSearch),loadActionDelegate:async()=>new((await d()).MainImpl.SearchActionDelegate),order:10,bindings:[{shortcut:"Esc"}]}),n.ActionRegistration.registerActionExtension({actionId:"main.search-in-panel.find-next",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.findNextResult),loadActionDelegate:async()=>new((await d()).MainImpl.SearchActionDelegate),bindings:[{platform:"mac",shortcut:"Meta+G",keybindSets:["devToolsDefault","vsCode"]},{platform:"windows,linux",shortcut:"Ctrl+G"},{platform:"windows,linux",shortcut:"F3",keybindSets:["devToolsDefault","vsCode"]}]}),n.ActionRegistration.registerActionExtension({actionId:"main.search-in-panel.find-previous",category:n.ActionRegistration.ActionCategory.GLOBAL,title:l(r.findPreviousResult),loadActionDelegate:async()=>new((await d()).MainImpl.SearchActionDelegate),bindings:[{platform:"mac",shortcut:"Meta+Shift+G",keybindSets:["devToolsDefault","vsCode"]},{platform:"windows,linux",shortcut:"Ctrl+Shift+G"},{platform:"windows,linux",shortcut:"Shift+F3",keybindSets:["devToolsDefault","vsCode"]}]}),t.Settings.registerSettingExtension({category:t.Settings.SettingCategory.APPEARANCE,storageType:t.Settings.SettingStorageType.Synced,title:l(r.theme),settingName:"uiTheme",settingType:t.Settings.SettingType.ENUM,defaultValue:"systemPreferred",reloadRequired:!1,options:[{title:l(r.switchToSystemPreferredColor),text:l(r.systemPreference),value:"systemPreferred"},{title:l(r.switchToLightTheme),text:l(r.lightCapital),value:"default"},{title:l(r.switchToDarkTheme),text:l(r.darkCapital),value:"dark"}],tags:[l(r.darkLower),l(r.lightLower)]}),t.Settings.registerSettingExtension({category:t.Settings.SettingCategory.APPEARANCE,storageType:t.Settings.SettingStorageType.Synced,title:l(r.panelLayout),settingName:"sidebarPosition",settingType:t.Settings.SettingType.ENUM,defaultValue:"auto",options:[{title:l(r.useHorizontalPanelLayout),text:l(r.horizontal),value:"bottom"},{title:l(r.useVerticalPanelLayout),text:l(r.vertical),value:"right"},{title:l(r.useAutomaticPanelLayout),text:l(r.auto),value:"auto"}]}),t.Settings.registerSettingExtension({category:t.Settings.SettingCategory.APPEARANCE,storageType:t.Settings.SettingStorageType.Synced,settingName:"language",settingType:t.Settings.SettingType.ENUM,title:l(r.language),defaultValue:"en-US",options:[{value:"browserLanguage",title:l(r.browserLanguage),text:l(r.browserLanguage)},...a.i18n.getAllSupportedDevToolsLocales().sort().map((t=>{return{value:e=t,title:u(e),text:u(e)};var e}))],reloadRequired:!0}),t.Settings.registerSettingExtension({category:t.Settings.SettingCategory.APPEARANCE,storageType:t.Settings.SettingStorageType.Synced,title:l(r.enableCtrlShortcutToSwitchPanels),titleMac:l(r.enableShortcutToSwitchPanels),settingName:"shortcutPanelSwitch",settingType:t.Settings.SettingType.BOOLEAN,defaultValue:!1}),t.Settings.registerSettingExtension({category:t.Settings.SettingCategory.GLOBAL,settingName:"currentDockState",settingType:t.Settings.SettingType.ENUM,defaultValue:"right",options:[{value:"right",text:l(r.right),title:l(r.dockToRight)},{value:"bottom",text:l(r.bottom),title:l(r.dockToBottom)},{value:"left",text:l(r.left),title:l(r.dockToLeft)},{value:"undocked",text:l(r.undocked),title:l(r.undockIntoSeparateWindow)}]}),t.Settings.registerSettingExtension({storageType:t.Settings.SettingStorageType.Synced,settingName:"activeKeybindSet",settingType:t.Settings.SettingType.ENUM,defaultValue:"devToolsDefault",options:[{value:"devToolsDefault",title:l(r.devtoolsDefault),text:l(r.devtoolsDefault)},{value:"vsCode",title:a.i18n.lockedLazyString("Visual Studio Code"),text:a.i18n.lockedLazyString("Visual Studio Code")}]}),t.Settings.registerSettingExtension({category:t.Settings.SettingCategory.SYNC,settingName:"sync_preferences",settingType:t.Settings.SettingType.BOOLEAN,title:l(r.enableSync),defaultValue:!1,reloadRequired:!0}),t.Settings.registerSettingExtension({storageType:t.Settings.SettingStorageType.Synced,settingName:"userShortcuts",settingType:t.Settings.SettingType.ARRAY,defaultValue:[]}),t.Settings.registerSettingExtension({category:t.Settings.SettingCategory.GLOBAL,storageType:t.Settings.SettingStorageType.Local,title:l(r.searchAsYouTypeSetting),settingName:"searchAsYouType",settingType:t.Settings.SettingType.BOOLEAN,order:3,defaultValue:!0,options:[{value:!0,title:l(r.searchAsYouTypeCommand)},{value:!1,title:l(r.searchOnEnterCommand)}]}),n.ViewManager.registerLocationResolver({name:"drawer-view",category:n.ViewManager.ViewLocationCategory.DRAWER,loadResolver:async()=>n.InspectorView.InspectorView.instance()}),n.ViewManager.registerLocationResolver({name:"drawer-sidebar",category:n.ViewManager.ViewLocationCategory.DRAWER_SIDEBAR,loadResolver:async()=>n.InspectorView.InspectorView.instance()}),n.ViewManager.registerLocationResolver({name:"panel",category:n.ViewManager.ViewLocationCategory.PANEL,loadResolver:async()=>n.InspectorView.InspectorView.instance()}),n.ContextMenu.registerProvider({contextTypes:()=>[o.UISourceCode.UISourceCode,e.Resource.Resource,e.NetworkRequest.NetworkRequest],loadProvider:async()=>new i.Linkifier.ContentProviderContextMenuProvider,experiment:void 0}),n.ContextMenu.registerProvider({contextTypes:()=>[Node],loadProvider:async()=>new n.XLink.ContextMenuProvider,experiment:void 0}),n.ContextMenu.registerProvider({contextTypes:()=>[Node],loadProvider:async()=>new i.Linkifier.LinkContextMenuProvider,experiment:void 0}),n.Toolbar.registerToolbarItem({separator:!0,location:n.Toolbar.ToolbarItemLocation.MAIN_TOOLBAR_LEFT,order:100,showLabel:void 0,actionId:void 0,condition:void 0,loadItem:void 0}),n.Toolbar.registerToolbarItem({separator:!0,order:97,location:n.Toolbar.ToolbarItemLocation.MAIN_TOOLBAR_RIGHT,showLabel:void 0,actionId:void 0,condition:void 0,loadItem:void 0}),n.Toolbar.registerToolbarItem({loadItem:async()=>(await d()).MainImpl.SettingsButtonProvider.instance(),order:99,location:n.Toolbar.ToolbarItemLocation.MAIN_TOOLBAR_RIGHT,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),n.Toolbar.registerToolbarItem({loadItem:async()=>(await d()).MainImpl.MainMenuItem.instance(),order:100,location:n.Toolbar.ToolbarItemLocation.MAIN_TOOLBAR_RIGHT,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),n.Toolbar.registerToolbarItem({loadItem:async()=>n.DockController.CloseButtonProvider.instance(),order:101,location:n.Toolbar.ToolbarItemLocation.MAIN_TOOLBAR_RIGHT,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),t.AppProvider.registerAppProvider({loadAppProvider:async()=>(await d()).SimpleApp.SimpleAppProvider.instance(),order:10,condition:void 0});
