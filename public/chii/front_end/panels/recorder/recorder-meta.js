import*as e from"../../core/i18n/i18n.js";import*as r from"../../ui/legacy/legacy.js";const o={recorder:"Recorder",showRecorder:"Show Recorder",startStopRecording:"Start/Stop recording",createRecording:"Create a new recording",replayRecording:"Replay recording",toggleCode:"Toggle code view"},t=e.i18n.registerUIStrings("panels/recorder/recorder-meta.ts",o),n=e.i18n.getLazilyComputedLocalizedString.bind(void 0,t);let i;async function c(){return i||(i=await import("./recorder.js")),i}function a(e,r){return void 0===i?[]:r&&i.RecorderPanel.RecorderPanel.instance().isActionPossible(r)?e(i):[]}r.ViewManager.defaultOptionsForTabs.chrome_recorder=!0,r.ViewManager.registerViewExtension({location:"panel",id:"chrome_recorder",commandPrompt:n(o.showRecorder),title:n(o.recorder),order:90,persistence:"closeable",isPreviewFeature:!0,loadView:async()=>(await c()).RecorderPanel.RecorderPanel.instance()}),r.ActionRegistration.registerActionExtension({category:r.ActionRegistration.ActionCategory.RECORDER,actionId:"chrome_recorder.create-recording",title:n(o.createRecording),loadActionDelegate:async()=>new((await c()).RecorderPanel.ActionDelegate)}),r.ActionRegistration.registerActionExtension({category:r.ActionRegistration.ActionCategory.RECORDER,actionId:"chrome_recorder.start-recording",title:n(o.startStopRecording),contextTypes:()=>a((e=>[e.RecorderPanel.RecorderPanel]),"chrome_recorder.start-recording"),loadActionDelegate:async()=>new((await c()).RecorderPanel.ActionDelegate),bindings:[{shortcut:"Ctrl+E",platform:"windows,linux"},{shortcut:"Meta+E",platform:"mac"}]}),r.ActionRegistration.registerActionExtension({category:r.ActionRegistration.ActionCategory.RECORDER,actionId:"chrome_recorder.replay-recording",title:n(o.replayRecording),contextTypes:()=>a((e=>[e.RecorderPanel.RecorderPanel]),"chrome_recorder.replay-recording"),loadActionDelegate:async()=>new((await c()).RecorderPanel.ActionDelegate),bindings:[{shortcut:"Ctrl+Enter",platform:"windows,linux"},{shortcut:"Meta+Enter",platform:"mac"}]}),r.ActionRegistration.registerActionExtension({category:r.ActionRegistration.ActionCategory.RECORDER,actionId:"chrome_recorder.toggle-code-view",title:n(o.toggleCode),contextTypes:()=>a((e=>[e.RecorderPanel.RecorderPanel]),"chrome_recorder.toggle-code-view"),loadActionDelegate:async()=>new((await c()).RecorderPanel.ActionDelegate),bindings:[{shortcut:"Ctrl+B",platform:"windows,linux"},{shortcut:"Meta+B",platform:"mac"}]});
