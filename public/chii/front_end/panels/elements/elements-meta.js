import*as e from"../../core/common/common.js";import*as t from"../../core/i18n/i18n.js";import*as n from"../../core/root/root.js";import*as o from"../../core/sdk/sdk.js";import*as i from"../../ui/legacy/legacy.js";const a={showElements:"Show Elements",elements:"Elements",showEventListeners:"Show Event Listeners",eventListeners:"Event Listeners",showProperties:"Show Properties",properties:"Properties",showStackTrace:"Show Stack Trace",stackTrace:"Stack Trace",showLayout:"Show Layout",layout:"Layout",hideElement:"Hide element",editAsHtml:"Edit as HTML",duplicateElement:"Duplicate element",undo:"Undo",redo:"Redo",captureAreaScreenshot:"Capture area screenshot",selectAnElementInThePageTo:"Select an element in the page to inspect it",newStyleRule:"New Style Rule",refreshEventListeners:"Refresh event listeners",wordWrap:"Word wrap",enableDomWordWrap:"Enable `DOM` word wrap",disableDomWordWrap:"Disable `DOM` word wrap",showHtmlComments:"Show `HTML` comments",hideHtmlComments:"Hide `HTML` comments",revealDomNodeOnHover:"Reveal `DOM` node on hover",showDetailedInspectTooltip:"Show detailed inspect tooltip",showCSSDocumentationTooltip:"Show CSS documentation tooltip",copyStyles:"Copy styles",showUserAgentShadowDOM:"Show user agent shadow `DOM`",showComputedStyles:"Show Computed Styles",showStyles:"Show Styles",toggleEyeDropper:"Toggle eye dropper"},s=t.i18n.registerUIStrings("panels/elements/elements-meta.ts",a),r=t.i18n.getLazilyComputedLocalizedString.bind(void 0,s);let l,c;async function g(){return l||(l=await import("./elements.js")),l}function d(e){return void 0===l?[]:e(l)}i.ViewManager.registerViewExtension({location:"panel",id:"elements",commandPrompt:r(a.showElements),title:r(a.elements),order:10,persistence:"permanent",hasToolbar:!1,loadView:async()=>(await g()).ElementsPanel.ElementsPanel.instance()}),i.ActionRegistration.registerActionExtension({actionId:"elements.show-styles",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.showStyles),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate)}),i.ActionRegistration.registerActionExtension({actionId:"elements.show-computed",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.showComputedStyles),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate)}),i.ViewManager.registerViewExtension({location:"elements-sidebar",id:"elements.eventListeners",commandPrompt:r(a.showEventListeners),title:r(a.eventListeners),order:5,hasToolbar:!0,persistence:"permanent",loadView:async()=>(await g()).EventListenersWidget.EventListenersWidget.instance()}),i.ViewManager.registerViewExtension({location:"elements-sidebar",id:"elements.domProperties",commandPrompt:r(a.showProperties),title:r(a.properties),order:7,persistence:"permanent",loadView:async()=>new((await g()).PropertiesWidget.PropertiesWidget)}),i.ViewManager.registerViewExtension({experiment:n.Runtime.ExperimentName.CAPTURE_NODE_CREATION_STACKS,location:"elements-sidebar",id:"elements.domCreation",commandPrompt:r(a.showStackTrace),title:r(a.stackTrace),order:10,persistence:"permanent",loadView:async()=>new((await g()).NodeStackTraceWidget.NodeStackTraceWidget)}),i.ViewManager.registerViewExtension({location:"elements-sidebar",id:"elements.layout",commandPrompt:r(a.showLayout),title:r(a.layout),order:4,persistence:"permanent",loadView:async()=>(await async function(){return c||(c=await import("./components/components.js")),c}()).LayoutPane.LayoutPane.instance().wrapper}),i.ActionRegistration.registerActionExtension({actionId:"elements.hide-element",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.hideElement),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate),contextTypes:()=>d((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"H"}]}),i.ActionRegistration.registerActionExtension({actionId:"elements.toggle-eye-dropper",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.toggleEyeDropper),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate),contextTypes:()=>d((e=>[e.ColorSwatchPopoverIcon.ColorSwatchPopoverIcon])),bindings:[{shortcut:"c"}]}),i.ActionRegistration.registerActionExtension({actionId:"elements.edit-as-html",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.editAsHtml),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate),contextTypes:()=>d((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"F2"}]}),i.ActionRegistration.registerActionExtension({actionId:"elements.duplicate-element",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.duplicateElement),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate),contextTypes:()=>d((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"Shift+Alt+Down"}]}),i.ActionRegistration.registerActionExtension({actionId:"elements.copy-styles",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.copyStyles),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate),contextTypes:()=>d((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"Ctrl+Alt+C",platform:"windows,linux"},{shortcut:"Meta+Alt+C",platform:"mac"}]}),i.ActionRegistration.registerActionExtension({actionId:"elements.undo",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.undo),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate),contextTypes:()=>d((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"Ctrl+Z",platform:"windows,linux"},{shortcut:"Meta+Z",platform:"mac"}]}),i.ActionRegistration.registerActionExtension({actionId:"elements.redo",category:i.ActionRegistration.ActionCategory.ELEMENTS,title:r(a.redo),loadActionDelegate:async()=>new((await g()).ElementsPanel.ElementsActionDelegate),contextTypes:()=>d((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"Ctrl+Y",platform:"windows,linux"},{shortcut:"Meta+Shift+Z",platform:"mac"}]}),i.ActionRegistration.registerActionExtension({actionId:"elements.capture-area-screenshot",loadActionDelegate:async()=>new((await g()).InspectElementModeController.ToggleSearchActionDelegate),condition:n.Runtime.ConditionName.CAN_DOCK,title:r(a.captureAreaScreenshot),category:i.ActionRegistration.ActionCategory.SCREENSHOT}),i.ActionRegistration.registerActionExtension({category:i.ActionRegistration.ActionCategory.ELEMENTS,actionId:"elements.toggle-element-search",toggleable:!0,loadActionDelegate:async()=>new((await g()).InspectElementModeController.ToggleSearchActionDelegate),title:r(a.selectAnElementInThePageTo),iconClass:"select-element",bindings:[{shortcut:"Ctrl+Shift+C",platform:"windows,linux"},{shortcut:"Meta+Shift+C",platform:"mac"}]}),i.ActionRegistration.registerActionExtension({category:i.ActionRegistration.ActionCategory.ELEMENTS,actionId:"elements.new-style-rule",title:r(a.newStyleRule),iconClass:"plus",loadActionDelegate:async()=>new((await g()).StylesSidebarPane.ActionDelegate),contextTypes:()=>d((e=>[e.StylesSidebarPane.StylesSidebarPane]))}),i.ActionRegistration.registerActionExtension({category:i.ActionRegistration.ActionCategory.ELEMENTS,actionId:"elements.refresh-event-listeners",title:r(a.refreshEventListeners),iconClass:"refresh",loadActionDelegate:async()=>new((await g()).EventListenersWidget.ActionDelegate),contextTypes:()=>d((e=>[e.EventListenersWidget.EventListenersWidget]))}),e.Settings.registerSettingExtension({category:e.Settings.SettingCategory.ELEMENTS,storageType:e.Settings.SettingStorageType.Synced,order:1,title:r(a.showUserAgentShadowDOM),settingName:"showUAShadowDOM",settingType:e.Settings.SettingType.BOOLEAN,defaultValue:!1}),e.Settings.registerSettingExtension({category:e.Settings.SettingCategory.ELEMENTS,storageType:e.Settings.SettingStorageType.Synced,order:2,title:r(a.wordWrap),settingName:"domWordWrap",settingType:e.Settings.SettingType.BOOLEAN,options:[{value:!0,title:r(a.enableDomWordWrap)},{value:!1,title:r(a.disableDomWordWrap)}],defaultValue:!0}),e.Settings.registerSettingExtension({category:e.Settings.SettingCategory.ELEMENTS,storageType:e.Settings.SettingStorageType.Synced,order:3,title:r(a.showHtmlComments),settingName:"showHTMLComments",settingType:e.Settings.SettingType.BOOLEAN,defaultValue:!0,options:[{value:!0,title:r(a.showHtmlComments)},{value:!1,title:r(a.hideHtmlComments)}]}),e.Settings.registerSettingExtension({category:e.Settings.SettingCategory.ELEMENTS,storageType:e.Settings.SettingStorageType.Synced,order:4,title:r(a.revealDomNodeOnHover),settingName:"highlightNodeOnHoverInOverlay",settingType:e.Settings.SettingType.BOOLEAN,defaultValue:!0}),e.Settings.registerSettingExtension({category:e.Settings.SettingCategory.ELEMENTS,storageType:e.Settings.SettingStorageType.Synced,order:5,title:r(a.showDetailedInspectTooltip),settingName:"showDetailedInspectTooltip",settingType:e.Settings.SettingType.BOOLEAN,defaultValue:!0}),e.Settings.registerSettingExtension({settingName:"showEventListenersForAncestors",settingType:e.Settings.SettingType.BOOLEAN,defaultValue:!0}),e.Settings.registerSettingExtension({category:e.Settings.SettingCategory.ADORNER,storageType:e.Settings.SettingStorageType.Synced,settingName:"adornerSettings",settingType:e.Settings.SettingType.ARRAY,defaultValue:[]}),e.Settings.registerSettingExtension({category:e.Settings.SettingCategory.ELEMENTS,storageType:e.Settings.SettingStorageType.Synced,title:r(a.showCSSDocumentationTooltip),settingName:"showCSSPropertyDocumentationOnHover",settingType:e.Settings.SettingType.BOOLEAN,defaultValue:!0}),i.ContextMenu.registerProvider({contextTypes:()=>[o.RemoteObject.RemoteObject,o.DOMModel.DOMNode,o.DOMModel.DeferredDOMNode],loadProvider:async()=>new((await g()).ElementsPanel.ContextMenuProvider),experiment:void 0}),i.ViewManager.registerLocationResolver({name:"elements-sidebar",category:i.ViewManager.ViewLocationCategory.ELEMENTS,loadResolver:async()=>(await g()).ElementsPanel.ElementsPanel.instance()}),e.Revealer.registerRevealer({contextTypes:()=>[o.DOMModel.DOMNode,o.DOMModel.DeferredDOMNode,o.RemoteObject.RemoteObject],destination:e.Revealer.RevealerDestination.ELEMENTS_PANEL,loadRevealer:async()=>new((await g()).ElementsPanel.DOMNodeRevealer)}),e.Revealer.registerRevealer({contextTypes:()=>[o.CSSProperty.CSSProperty],destination:e.Revealer.RevealerDestination.STYLES_SIDEBAR,loadRevealer:async()=>new((await g()).ElementsPanel.CSSPropertyRevealer)}),i.Toolbar.registerToolbarItem({loadItem:async()=>(await g()).LayersWidget.ButtonProvider.instance(),order:1,location:i.Toolbar.ToolbarItemLocation.STYLES_SIDEBARPANE_TOOLBAR,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),i.Toolbar.registerToolbarItem({loadItem:async()=>(await g()).ElementStatePaneWidget.ButtonProvider.instance(),order:2,location:i.Toolbar.ToolbarItemLocation.STYLES_SIDEBARPANE_TOOLBAR,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),i.Toolbar.registerToolbarItem({loadItem:async()=>(await g()).ClassesPaneWidget.ButtonProvider.instance(),order:3,location:i.Toolbar.ToolbarItemLocation.STYLES_SIDEBARPANE_TOOLBAR,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),i.Toolbar.registerToolbarItem({loadItem:async()=>(await g()).StylesSidebarPane.ButtonProvider.instance(),order:100,location:i.Toolbar.ToolbarItemLocation.STYLES_SIDEBARPANE_TOOLBAR,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),i.Toolbar.registerToolbarItem({actionId:"elements.toggle-element-search",location:i.Toolbar.ToolbarItemLocation.MAIN_TOOLBAR_LEFT,order:0,showLabel:void 0,condition:void 0,separator:void 0,loadItem:void 0}),i.UIUtils.registerRenderer({contextTypes:()=>[o.DOMModel.DOMNode,o.DOMModel.DeferredDOMNode],loadRenderer:async()=>(await g()).ElementsTreeOutline.Renderer.instance()}),e.Linkifier.registerLinkifier({contextTypes:()=>[o.DOMModel.DOMNode,o.DOMModel.DeferredDOMNode],loadLinkifier:async()=>(await g()).DOMLinkifier.Linkifier.instance()});
